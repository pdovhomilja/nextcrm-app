# =============================================================================
# NEXTCRM APP - Environment Variables Configuration
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# DO NOT commit .env.local to version control
# =============================================================================

# ======================== DATABASE CONFIGURATION ==========================
# MongoDB connection string for Prisma
# Format: mongodb+srv://username:password@cluster.mongodb.net/database_name
# Get from: MongoDB Atlas Dashboard > Databases > Connect > Connection String
DATABASE_URL="mongodb+srv://<username>:<password>@cluster0.jzcxjog.mongodb.net/nextcrm-app"

# ======================== REDIS CONFIGURATION (OPTIONAL) ===================
# Redis configuration for rate limiting and caching in production
# Only required if using Redis-based rate limiting with load balancers or Kubernetes
# For single-server deployments, this can be omitted

# Redis Connection URL
# Format: redis://host:port or rediss://host:port (SSL/TLS)
# Examples:
#   redis://localhost:6379                  # Local development
#   redis://username:password@host:port     # With authentication
#   rediss://host:port                      # SSL/TLS connection
REDIS_URL="redis://localhost:6379"

# Redis Password (optional, if authentication is enabled)
REDIS_PASSWORD=""

# ======================== NEXTAUTH CONFIGURATION ==========================
# NextAuth.js configuration for authentication

# The base URL where your application is hosted
# Used for OAuth callbacks and session handling
# Example: http://localhost:3000 (development) or https://yourdomain.com (production)
NEXTAUTH_URL="http://localhost:3000"

# Secret key for signing JWTs and encrypting cookies
# Generate using: openssl rand -base64 32
# Or use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
NEXTAUTH_SECRET="your-nextauth-secret-key-here-min-32-characters"

# JWT Secret for session encryption
# Generate using: openssl rand -base64 32
JWT_SECRET="your-jwt-secret-key-here-min-32-characters"

# ======================== GOOGLE OAUTH CONFIGURATION =======================
# Google OAuth 2.0 credentials for sign-in
# Get from: Google Cloud Console > APIs & Services > Credentials

# Google OAuth Client ID
GOOGLE_ID="your-google-client-id.apps.googleusercontent.com"

# Google OAuth Client Secret
GOOGLE_SECRET="your-google-client-secret"

# ======================== GITHUB OAUTH CONFIGURATION =======================
# GitHub OAuth 2.0 credentials for sign-in
# Get from: GitHub Settings > Developer Settings > OAuth Apps

# GitHub OAuth App ID
GITHUB_ID="your-github-app-id"

# GitHub OAuth App Secret
GITHUB_SECRET="your-github-app-secret"

# ======================== STRIPE CONFIGURATION =============================
# Stripe payment processing configuration
# Get from: Stripe Dashboard > Developers > API Keys

# Stripe Secret Key (keep this private - server-side only)
# Format: sk_live_... (production) or sk_test_... (testing)
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key_here"

# Stripe Publishable Key (can be public - used in browser)
# Format: pk_live_... (production) or pk_test_... (testing)
# Note: This is prefixed with NEXT_PUBLIC_ so it's available in browser
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key_here"

# Stripe Webhook Secret for handling webhook events
# Get from: Stripe Dashboard > Developers > Webhooks > Signing secret
# This verifies that webhooks came from Stripe
STRIPE_WEBHOOK_SECRET="whsec_test_your_webhook_secret_here"

# Stripe PRO Plan Price ID
# Get from: Stripe Dashboard > Products > Select PRO plan > API ID
STRIPE_PRO_PRICE_ID="price_your_pro_price_id_here"

# Stripe ENTERPRISE Plan Price ID
# Get from: Stripe Dashboard > Products > Select ENTERPRISE plan > API ID
STRIPE_ENTERPRISE_PRICE_ID="price_your_enterprise_price_id_here"

# ======================== EMAIL CONFIGURATION =============================
# Email service configuration for sending emails

# SMTP Email Server Host
# Examples: smtp.gmail.com, smtp.office365.com, smtp.sendgrid.net
EMAIL_HOST="smtp.gmail.com"

# From Email Address
# This is the sender address for automated emails
# Format: "App Name <noreply@yourdomain.com>"
EMAIL_FROM="noreply@yourdomain.com"

# SMTP Username (usually your email address)
EMAIL_USERNAME="your-email@gmail.com"

# SMTP Password or App Password
# For Gmail: Use an App Password (not your regular password)
# Get from: Gmail Account > Security > App passwords
EMAIL_PASSWORD="your-app-specific-password"

# ======================== IMAP CONFIGURATION ==============================
# IMAP configuration for reading emails (invoice processing)

# IMAP Email Host
# Examples: imap.gmail.com, imap.office365.com
IMAP_HOST="imap.gmail.com"

# IMAP Port (typically 993 for secure connection)
IMAP_PORT="993"

# IMAP Username (usually your email address)
IMAP_USER="your-email@gmail.com"

# IMAP Password (same as EMAIL_PASSWORD above)
IMAP_PASSWORD="your-app-specific-password"

# ======================== RESEND EMAIL SERVICE ============================
# Resend Email Service API Key (alternative email service)
# Get from: Resend Dashboard > API Keys
# Leave empty if using SMTP instead
RESEND_API_KEY="re_your_resend_api_key_here"

# ======================== OPENAI CONFIGURATION =============================
# OpenAI API Key for AI features (optional)
# Get from: OpenAI Platform > API Keys
# Leave empty if not using AI features
OPENAI_API_KEY="sk-your-openai-api-key-here"

# ======================== DIGITALOCEAN SPACES CONFIGURATION ================
# DigitalOcean Spaces (S3-compatible) for file storage

# DigitalOcean Spaces API Endpoint
# Format: https://region.digitaloceanspaces.com
# Get from: DigitalOcean > Spaces > Settings
DO_ENDPOINT="https://nyc3.digitaloceanspaces.com"

# DigitalOcean Spaces Region
# Examples: nyc3, sfo3, ams3
DO_REGION="nyc3"

# DigitalOcean Spaces Access Key ID
# Get from: DigitalOcean > Account > API > Spaces Keys
DO_ACCESS_KEY_ID="your-digitalocean-access-key-id"

# DigitalOcean Spaces Secret Access Key
# Get from: DigitalOcean > Account > API > Spaces Keys
DO_ACCESS_KEY_SECRET="your-digitalocean-secret-access-key"

# ======================== ROSSUM CONFIGURATION =============================
# Rossum Invoice OCR Service Configuration (optional)

# Rossum API Base URL
# Example: https://api.elis.rossum.ai
ROSSUM_API_URL="https://api.elis.rossum.ai"

# Rossum API Username
ROSSUM_USER="your-rossum-username"

# Rossum API Password
ROSSUM_PASS="your-rossum-password"

# ======================== APPLICATION CONFIGURATION ========================
# General application settings

# Application Public URL
# Note: This is prefixed with NEXT_PUBLIC_ so it's available in browser
# Used for email links, metadata, and OAuth callbacks
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Application Name
# Note: This is prefixed with NEXT_PUBLIC_ so it's available in browser
# Used in emails, page titles, and metadata
NEXT_PUBLIC_APP_NAME="NextCRM"

# ======================== COMMUNITY & SOCIAL CONFIGURATION =================
# Links for community support and social integration

# Discord Invite URL for community support
# Example: https://discord.gg/your-server-id
NEXT_PUBLIC_DISCORD_INVITE_URL="https://discord.gg/your-server-id"

# GitHub Issues URL for reporting bugs
# Example: https://github.com/yourusername/nextcrm-app/issues
NEXT_PUBLIC_GITHUB_ISSUES_URL="https://github.com/yourusername/nextcrm-app/issues"

# ======================== CRON JOB CONFIGURATION ===========================
# Secret key for protecting cron job endpoints

# Cron Job Secret
# Generate using: openssl rand -base64 32
# Used to authenticate cron job requests for security
# Add this to Authorization header or query parameter when calling cron endpoints
CRON_SECRET="your-cron-secret-key-here-min-32-characters"

# ======================== REFRESH TOKEN CONFIGURATION =======================
# Refresh token secret for JWT token refresh flow

# Refresh Token Secret
# Generate using: openssl rand -base64 32
# Used to sign and verify refresh tokens
REFRESH_TOKEN_SECRET="your-refresh-token-secret-here-min-32-characters"

# ======================== CAPRICORN EDI INTEGRATION ==========================
# Capricorn Society EDI API integration for parts ordering

# Capricorn API Base URL
# Example: https://api.capricorn.com.au
CAPRICORN_API_URL="https://api.capricorn.com.au"

# Capricorn API Key
# Get from: Capricorn EDI Account > API Settings
CAPRICORN_API_KEY="your-capricorn-api-key-here"

# Capricorn Customer ID
# Your customer ID for Capricorn EDI
CAPRICORN_CUSTOMER_ID="your-capricorn-customer-id-here"

# ======================== RESEND EMAIL SERVICE ================================
# Resend Email Service for transactional emails

# Resend API Key
# Get from: Resend Dashboard > API Keys
RESEND_API_KEY="re_your_resend_api_key_here"

# Resend From Email Address
# The email address used for sending transactional emails
RESEND_FROM_EMAIL="noreply@autocrm.com.au"

# =============================================================================
# NOTES:
# =============================================================================
# 1. Environment variables prefixed with NEXT_PUBLIC_ are exposed to the browser
#    Never put sensitive keys in NEXT_PUBLIC_ variables
#
# 2. Generate secure secrets using:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 3. For development: Create .env.local in the root directory
#    For production: Set environment variables in your hosting platform
#
# 4. Some variables are optional (OpenAI, Resend, Rossum, Redis) - remove if not needed
#
# 5. Database migrations: After setting DATABASE_URL, run:
#    npx prisma migrate dev
#
# 6. Testing webhooks locally: Use ngrok to create a tunnel
#    ngrok http 3000
#    Then update webhook endpoints in Stripe Dashboard
# =============================================================================
